/*! angular-envoy - v0.0.1
 * 
 * Copyright (c) 2015 Focusvision Worldwide; Licensed MIT
 */

require=(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";module.exports=require("./lib");
},{"./lib":13}],2:[function(require,module,exports){
"use strict";function action(n){return{restrict:"A",require:["ngModel","^form"],link:function(e,t,o,i){var c,r=i[0],a=i[1];(c=o.envoyAction)&&r.$name&&a.$name&&n.setAction(a.$name,r.$name,function(){e.$eval(c)})}}}action.$inject=["$envoy"],module.exports=action;

},{}],3:[function(require,module,exports){
"use strict";module.exports={envoyAction:require("./action"),envoyMessages:require("./messages"),envoyList:require("./list"),envoyProxy:require("./proxy")};

},{"./action":2,"./list":4,"./messages":5,"./proxy":8}],4:[function(require,module,exports){
"use strict";function list(e,t){var r={restrict:"EA",scope:!0,require:"?^envoyMessages",templateUrl:opts.templateUrl,link:function(r,o,n,i){var s,l=n.envoyList||n["for"];if(l)s=e.findParentController(t(l)(r),i);else{if(!i)throw new Error("envoyList requires an ancestor envoyMessages directive or a form name");s=i}s.bindView(r),r.$on("$destroy",function(){s.unbindView()})}};return opts.template&&(r.template=opts.template,delete r.templateUrl),r}var opts=require("../envoy/opts");list.$inject=["$envoy","$interpolate"],module.exports=list;

},{"../envoy/opts":11}],5:[function(require,module,exports){
"use strict";function messages(e,r){return{restrict:"AE",require:"envoyMessages",controller:require("./messages-ctrl"),scope:!0,link:function(t,n,s,o){var i;s.parent&&(i=e(s.parent)(t))&&(r.findParentController(i,n.parent().controller("envoyMessages")).addChild(o),o.$parent.$form===o.$form&&(o.$parent.removeChild(o),debug("Attempted to initialize %s with its own parent",o.$form.$name))),t.$on("$destroy",function(){o.$parent&&o.$parent.removeChild(o)})}}}var debug=require("debug")("envoy:directives:messages");messages.$inject=["$interpolate","$envoy"],module.exports=messages;

},{"./messages-ctrl":6,"debug":"debug"}],6:[function(require,module,exports){
"use strict";function EnvoyMessagesController(e,t,i){var s;this.bindView=function(e){if(s.scope)throw new Error("view already bound!");return s.scope=e,e.$envoyData=viewData(t.DEFAULT_LEVEL),debug("View bound"),this},this.unbindView=function(){return s&&(delete s.scope,s=null,debug("View unbound")),this},this.update=function(e){var i,s=this.$viewData;return s?(debug('"%s" updating with new data:',this.$name,e),this.$errorLevel=i=_.isNumber(e.errorLevel)?e.errorLevel:this.$errorLevel,_.each(e.messages,function(e,t){s.messages[t]?_.each(e,function(e,i){_.isObject(e)?s.messages[t][i]?_.extend(s.messages[t][i],e):s.messages[t][i]=e:delete s.messages[t][i]}):s.messages[t]=e}),s.error=!!i,s.className=t.level(i),s.title=this.title(i),debug('"%s" updated; view data:',this.$name,s),s):void 0},this.addChild=function(e){return debug('Adding child "%s" to "%s"',e.$name,this.$name),this.$children.push(e),e.$parent=this,this},this.removeChild=function(e){return debug('Removing child "%s" from "%s"',e.$name,this.$name),this.$children.splice(this.$children.indexOf(e),1),delete e.$parent,this},this.title=function(e){return t.levelDescription(e)},this.toString=function(){return this.$name},function(){var n;this.$children=[],this.$parent=null,Object.defineProperties(this,{$errorLevel:{get:function(){return n.$errorLevel},set:function(e){n.$errorLevel=e}},$name:{get:function(){return n.$name}},$viewData:{get:function(){var e;return(e=_.get(s,"scope.$envoyData"))?e:s.scope?s.scope.$envoyData=viewData(t.DEFAULT_LEVEL):void 0},set:function(e){s.scope.$envoyData=e}}}),n=this.$form=e.controller("form"),this.$errorLevel=t.DEFAULT_ERRORLEVEL,s=this.$parent?this.$view=this.$parent.$view:this.$view={},i.$on("$destroy",t.bindForm(this,this.$name))}.call(this)}var _=require("lodash"),viewData=require("./viewdata"),debug=require("debug")("envoy:directives:messages:controller");EnvoyMessagesController.$inject=["$element","$envoy","$scope"],module.exports=EnvoyMessagesController;

},{"./viewdata":7,"debug":"debug","lodash":"lodash"}],7:[function(require,module,exports){
"use strict";function viewData(e){var t={reset:function(){this.error=!1,this.messages={},this.title=null,this.className=null,this.errorLevel=e},id:_.uniqueId(ID_PREFIX)};return t.reset(),debug('Created viewdata object with id "%s"',t.id),t}var _=require("lodash"),ID_PREFIX="envoy-viewdata-",debug=require("debug")("envoy:directives:messages:viewdata");module.exports=viewData;

},{"debug":"debug","lodash":"lodash"}],8:[function(require,module,exports){
"use strict";function proxy(){var e="proxy",r="errorlevel";return{restrict:"A",require:"ngModel",controller:["$scope","$element","$attrs","$envoy","$interpolate","$animate",function(o,t,n,i,l,s){var a=require("debug")("envoy:directives:proxy:controller"),d=l(n.envoyProxy||"")(o),v=t.controller("ngModel");if(s=s||t,this.update=function(r){var o=!r.errorLevel,n=i.level(r.errorLevel);a('Proxy "%s" updated w/ errorLevel %s',d,n),_.each(i.ERRORLEVELS,function(e,r){s.removeClass(t,r)}),v.$setValidity(e,o),o||s.addClass(t,n)},this.toString=function(){return this.$name+"-proxy"},this.$name=d,!d)throw new Error("envoyProxy directive needs a value!");t.addClass(r),o.$on("$destroy",i.bindForm(this,d))}]}}var _=require("lodash");module.exports=proxy;

},{"debug":"debug","lodash":"lodash"}],9:[function(require,module,exports){
"use strict";function envoyFactory(e,r){function n(t){var o;return t?(o=n._cache[t.$name])?r.when(o):function(n){return n.messagesConfig?r.when(n.messagesConfig):e.get(n.messagesConfigUrl,{cache:!0}).then(function(e){return e.data})}(opts).then(function(e){return e=_(e[t.$alias||t.$name]).mapValues(function(e,r){var o,a=t[r];return a&&_.size(o=a.$error)?_(e).pick(_.keys(o)).each(function(e){e.action=n.getAction(t.$name,r)}).value():void 0}).value(),n._cache[t.$name]=e,e}):r.reject(new Error('Must pass "form" parameter'))}var t,o=_.pluck(opts.levels,"name"),a=_(o).invert().mapValues(_.parseInt).value(),u={},i={};return t={_cache:{},level:function(e){return _.isString(e)?a[e]||a[opts.defaultLevel]:o[e]||opts.defaultLevel},_formErrorLevel:function(e,r){var t=n.DEFAULT_ERRORLEVEL,o=_.reduce(r,function(r,t){var o=_(t).pick(function(r,n){return e.$error[n]}).pluck("level").map(n.level).max();return Math.max(r,o)},t),a=n.level(o);return debug('Computed errorLevel "%s" for form "%s"',a,e.$name),o},_refreshing:null,bindForm:function(e,r){var n=i[r]=i[r]||{},t=_.uniqueId("envoy-binding-");return n[t]=e,function(){delete n[t]}},_findParents:function l(e,r){return r=r||[],e.$parent?(r.push(e.$parent),l(e.$parent,r)):r},_findChildren:function c(e,r){var n=e.$children;return r=r||[],n&&n.length?(r.push.apply(r,n),_(n).map(function(e){return c(e,r)}).flatten().unique().value()):r},_refresh:_.debounce(function(e,r){var t,o,a=_.toArray(i[e.$name]);a.length&&(t=_.filter(a,function(e){return e.$form}),o=_(t).map(function(e){return n._findParents(e)}).flatten().unique().value(),n._refreshing=n(e).then(function(u){function i(e){e.update({messages:f,errorLevel:c})}var l,c=n._formErrorLevel(e,u),f=_.object([e.$name],[u]);if(e.$errorLevel<c)l=!0;else{if(!(e.$errorLevel>c))return;l=!1}_.each(u[r.$name],function(t){t.action=n.getAction(e.$name,r.$name)}),l===!1&&(c=Math.max(c,_(t).map(function(e){return n._findChildren(e)}).flatten().map(function(e){return _.isNumber(e.$errorLevel)?e.$errorLevel:n.DEFAULT_ERRORLEVEL}).max())),_.each(a,i),_.each(o,function(e){l?e.$errorLevel<c?i(e):e.$errorLevel>c&&(c=e.$errorLevel,i(e)):e.$errorLevel>c?i(e):e.$errorLevel<c&&(c=e.$errorLevel,i(e))})})["catch"](function(e){debug(e)}))},DEBOUNCE_MS),refresh:function(e,t){return delete n._cache[e.$name],debug('Control "%s" in form "%s" changed validity',t.$name,e.$name),n._refreshing?n._refreshing.then(n._refresh.bind(null,e,t)):r.when(n._refresh(e,t))},setAction:function(e,r,n){var t=u[e]=u[e]||{};t[r]=n},getAction:function(e,r){return _.get(u,e+"."+r)},findParentController:function(e,r){for(;r.$name!==e;)if(r=r.$parent,!r)throw new Error("cannot find parent with name "+e);return r},levelDescription:function(e){return _.isString(e)&&(e=n.level(e)),opts.levels[e].description},DEFAULT_LEVEL:opts.defaultLevel,DEFAULT_ERRORLEVEL:a[opts.defaultLevel],ERRORLEVELS:a,LEVELS:opts.levels,options:opts},_.extend(n,t),n}var _=require("lodash"),opts=require("./opts"),debug=require("debug")("envoy:$envoy:factory"),DEBOUNCE_MS=250;envoyFactory.$inject=["$http","$q"],module.exports=envoyFactory;

},{"./opts":11,"debug":"debug","lodash":"lodash"}],10:[function(require,module,exports){
"use strict";function envoyProvider(){this.options=function(e){return _.extend(opts,e),debug("New options set:",opts),opts},this.$get=require("./factory")}var opts=require("./opts"),_=require("lodash"),debug=require("debug")("envoy:$envoy:provider");module.exports=envoyProvider;

},{"./factory":9,"./opts":11,"debug":"debug","lodash":"lodash"}],11:[function(require,module,exports){
"use strict";var DEFAULT_LEVELS=[{name:"ok",description:"Fixed!"},{name:"warning",description:"Warning"},{name:"error",description:"Error"}],DEFAULT_MESSAGES_CONFIG_URL="example-data/messages.json",DEFAULT_LEVEL="ok",DEFAULT_SHOW_DEFAULT_LEVEL=!1,DEFAULT_TEMPLATE_URL="partials/messages.html",DEFAULT_TEMPLATE=null,DEFAULT_MESSAGE_CONFIG=null;module.exports={levels:DEFAULT_LEVELS,defaultLevel:DEFAULT_LEVEL,messagesConfigUrl:DEFAULT_MESSAGES_CONFIG_URL,showDefaultLevel:DEFAULT_SHOW_DEFAULT_LEVEL,templateUrl:DEFAULT_TEMPLATE_URL,messagesConfig:DEFAULT_MESSAGE_CONFIG,template:DEFAULT_TEMPLATE};

},{}],12:[function(require,module,exports){
"use strict";function formDecorator(e){function t(e,t,r,s,a,o,$){var n;o.invoke(i,this,{$element:e,$scope:r,$animate:s,$interpolate:a,$attrs:t}),this.$name&&(this.$isForm=!0,n=this.$setValidity,debug("Instantiating patched controller for form %s",this.$name),_.extend(this,{$alias:t.alias||this.$name,$$lastErrorSize:0,$setValidity:function(e,t,r){var i=!r.$isForm,s=i&&_.has(this,r.$name);n.apply(this,arguments),s&&_.size(this.$error)!==this.$$lastErrorSize&&($.refresh(this,r),this.$$lastErrorSize=_.size(this.$error))}}),_.has(r,this.$alias)||(r[this.$alias]=this))}var r=_.first(e),i=r.controller;return t.$inject=["$element","$attrs","$scope","$animate","$interpolate","$injector","$envoy"],r.controller=t,r.$scope=!0,e}var _=require("lodash"),debug=require("debug")("envoy:formDecorator");formDecorator.$inject=["$delegate"],module.exports=formDecorator;

},{"debug":"debug","lodash":"lodash"}],13:[function(require,module,exports){
(function (global){
"use strict";function config(e){e.decorator("ngFormDirective",formDecorator),ngAnimatePresent||e.value("$animate",null),debug("%s v%s ready",pkg.name,pkg.version)}var angular="undefined"!=typeof window?window.angular:"undefined"!=typeof global?global.angular:null,_=require("lodash"),directives=require("./directives"),pkg=require("../package.json"),formDecorator=require("./form-decorator"),$envoy=require("./envoy"),MODULE_NAME="fv.envoy",debug=require("debug")("envoy"),envoy,ngAnimatePresent=!1;config.$inject=["$provide"];try{envoy=angular.module(MODULE_NAME,["ngAnimate"]),ngAnimatePresent=!0}catch(ignored){envoy=angular.module(MODULE_NAME,[])}envoy.config(config).provider("$envoy",$envoy),_.each(directives,function(e,n){envoy.directive(n,e)}),module.exports=envoy;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"../package.json":14,"./directives":3,"./envoy":10,"./form-decorator":12,"debug":"debug","lodash":"lodash"}],14:[function(require,module,exports){
module.exports={"name":"angular-envoy","version":"0.0.1","description":"Highly flexible form validation messaging for AngularJS","main":"index.js","author":"Christopher Hiller <chiller@focusvision.com>","license":"MIT","repository":{"type":"git","url":"https://github.com/decipherinc/angular-envoy.git"},"devDependencies":{"angular":"^1.4.1","chai":"^3.0.0","exposify":"^0.4.3","grunt":"^0.4.5","grunt-bower-install-simple":"^1.1.3","grunt-browserify":"^3.8.0","grunt-bump":"^0.3.1","grunt-cli":"^0.1.13","grunt-contrib-clean":"^0.6.0","grunt-contrib-copy":"^0.8.0","grunt-dev-update":"^1.3.0","grunt-eslint":"^15.0.0","grunt-gh-pages":"^0.10.0","grunt-lodash":"^0.4.0","grunt-lodash-autobuild":"^0.3.0","grunt-mocha-istanbul":"^2.4.0","grunt-ngdocs":"^0.2.7","istanbul":"^0.3.17","jit-grunt":"^0.9.1","jsonminifyify":"^0.1.1","load-grunt-config":"^0.17.1","lodash-cli":"^3.10.0","mocha":"^2.2.5","time-grunt":"^1.2.1","uglifyify":"^3.0.1"},"scripts":{"test":"grunt test"},"peerDependencies":{"angular":"^1.4.1"},"dependencies":{"angular-animate":"^1.3.17","debug":"^2.2.0","lodash":"^3.9.3"}}
},{}],"debug":[function(require,module,exports){
module.exports=function(){};

},{}],"lodash":[function(require,module,exports){
(function (global){
(function(){function n(n){return!!n&&"object"==typeof n}function r(){}function t(n,r){var t=-1,e=n.length;for(r||(r=Array(e));++t<e;)r[t]=n[t];return r}function e(n,r){for(var t=-1,e=n.length;++t<e&&!1!==r(n[t],t,n););return n}function u(n,r){for(var t=-1,e=n.length,u=-1,o=[];++t<e;){var c=n[t];r(c,t,n)&&(o[++u]=c)}return o}function o(n,r){for(var t=-1,e=n.length,u=Array(e);++t<e;)u[t]=r(n[t],t,n);return u}function c(n,r){for(var t=-1,e=n.length;++t<e;)if(r(n[t],t,n))return!0;return!1}function i(n,r){var t;if(null==r)t=n;else{t=hr(r);var e=n;e||(e={});for(var u=-1,o=t.length;++u<o;){var c=t[u];e[c]=r[c]}t=e}return t}function f(n,r,t){var e=typeof n;return"function"==e?r===an?n:O(n,r,t):null==n?on:"object"==e?j(n):r===an?fn(n):m(n,r)}function a(n,r,u,o,c,f,l){var s;if(u&&(s=c?u(n,o,c):u(n)),s!==an)return s;if(!Y(n))return n;if(o=vr(n)){if(s=F(n),!r)return t(n,s)}else{var p=Xn.call(n),g=p==yn;if(p!=jn&&p!=sn&&(!g||c))return Pn[p]?U(n,p,r):c?n:{};if(s=M(g?{}:n),!r)return i(s,n)}for(f||(f=[]),l||(l=[]),c=f.length;c--;)if(f[c]==n)return l[c];return f.push(n),l.push(s),(o?e:v)(n,function(t,e){s[e]=a(t,r,u,e,n,f,l)}),s}function l(n,r){var t=[];return ir(n,function(n,e,u){r(n,e,u)&&t.push(n)}),t}function s(r,t,e,u){u||(u=[]);for(var o=-1,c=r.length;++o<c;){var i=r[o];if(n(i)&&N(i)&&(e||vr(i)||Q(i)))if(t)s(i,t,e,u);else for(var f=u,a=-1,l=i.length,p=f.length;++a<l;)f[p+a]=i[a];else e||(u[u.length]=i)}return u}function p(n,r){fr(n,r,rn)}function v(n,r){return fr(n,r,hr)}function g(n,r,t){if(null!=n){t!==an&&t in C(n)&&(r=[t]),t=0;for(var e=r.length;null!=n&&e>t;)n=n[r[t++]];return t&&t==e?n:an}}function h(r,t,e,u,o,c){if(r===t)r=!0;else if(null==r||null==t||!Y(r)&&!n(t))r=r!==r&&t!==t;else n:{var i=h,f=vr(r),a=vr(t),l=pn,s=pn;f||(l=Xn.call(r),l==sn?l=jn:l!=jn&&(f=nn(r))),a||(s=Xn.call(t),s==sn?s=jn:s!=jn&&nn(t));var p=l==jn,a=s==jn,s=l==s;if(!s||f||p){if(!u&&(l=p&&Kn.call(r,"__wrapped__"),a=a&&Kn.call(t,"__wrapped__"),l||a)){r=i(l?r.value():r,a?t.value():t,e,u,o,c);break n}if(s){for(o||(o=[]),c||(c=[]),l=o.length;l--;)if(o[l]==r){r=c[l]==t;break n}o.push(r),c.push(t),r=(f?k:I)(r,t,i,e,u,o,c),o.pop(),c.pop()}else r=!1}else r=E(r,t,l)}return r}function y(n,r){var t=r.length,e=t;if(null==n)return!e;for(n=C(n);t--;){var u=r[t];if(u[2]?u[1]!==n[u[0]]:!(u[0]in n))return!1}for(;++t<e;){var u=r[t],o=u[0],c=n[o],i=u[1];if(u[2]){if(c===an&&!(o in n))return!1}else if(u=an,u===an?!h(i,c,void 0,!0):!u)return!1}return!0}function b(n,r){var t=-1,e=N(n)?Array(n.length):[];return ir(n,function(n,u,o){e[++t]=r(n,u,o)}),e}function j(n){var r=_(n);if(1==r.length&&r[0][2]){var t=r[0][0],e=r[0][1];return function(n){return null==n?!1:n[t]===e&&(e!==an||t in C(n))}}return function(n){return y(n,r)}}function m(n,r){var t=vr(n),e=D(n)&&r===r&&!Y(r),u=n+"";return n=V(n),function(o){if(null==o)return!1;var c=u;if(o=C(o),!(!t&&e||c in o)){if(o=1==n.length?o:g(o,x(n)),null==o)return!1;c=L(n),o=C(o)}return o[c]===r?r!==an||c in o:h(r,o[c],an,!0)}}function w(n){return function(r){return null==r?an:r[n]}}function d(n){var r=n+"";return n=V(n),function(t){return g(t,n,r)}}function A(n,r,t,e,u){return u(n,function(n,u,o){t=e?(e=!1,n):r(t,n,u,o)}),t}function x(n){var r=0,t=-1,e=-1,u=n.length,r=null==r?0:+r||0;for(0>r&&(r=-r>u?0:u+r),t=t===an||t>u?u:+t||0,0>t&&(t+=u),u=r>t?0:t-r>>>0,r>>>=0,t=Array(u);++e<u;)t[e]=n[e+r];return t}function O(n,r,t){if("function"!=typeof n)return on;if(r===an)return n;switch(t){case 1:return function(t){return n.call(r,t)};case 3:return function(t,e,u){return n.call(r,t,e,u)};case 4:return function(t,e,u,o){return n.call(r,t,e,u,o)};case 5:return function(t,e,u,o,c){return n.call(r,t,e,u,o,c)}}return function(){return n.apply(r,arguments)}}function T(n){var r=new Zn(n.byteLength);return new rr(r).set(new rr(n)),r}function k(n,r,t,e,u,o,i){var f=-1,a=n.length,l=r.length;if(a!=l&&!(u&&l>a))return!1;for(;++f<a;){var s=n[f],l=r[f],p=e?e(u?l:s,u?s:l,f):an;if(p!==an){if(p)continue;return!1}if(u){if(!c(r,function(n){return s===n||t(s,n,e,u,o,i)}))return!1}else if(s!==l&&!t(s,l,e,u,o,i))return!1}return!0}function E(n,r,t){switch(t){case vn:case gn:return+n==+r;case hn:return n.name==r.name&&n.message==r.message;case bn:return n!=+n?r!=+r:n==+r;case mn:case wn:return n==r+""}return!1}function I(n,r,t,e,u,o,c){var i=hr(n),f=i.length,a=hr(r).length;if(f!=a&&!u)return!1;for(a=f;a--;){var l=i[a];if(!(u?l in r:Kn.call(r,l)))return!1}for(var s=u;++a<f;){var l=i[a],p=n[l],v=r[l],g=e?e(u?v:p,u?p:v,l):an;if(g===an?!t(p,v,e,u,o,c):!g)return!1;s||(s="constructor"==l)}return s||(t=n.constructor,e=r.constructor,!(t!=e&&"constructor"in n&&"constructor"in r)||"function"==typeof t&&t instanceof t&&"function"==typeof e&&e instanceof e)?!0:!1}function $(n,t,e){var u=r.callback||un,u=u===un?f:u;return e?u(n,t,e):u}function _(n){n=tn(n);for(var r=n.length;r--;){var t=n[r][1];n[r][2]=t===t&&!Y(t)}return n}function S(n,r){var t=null==n?an:n[r];return Z(t)?t:an}function F(n){var r=n.length,t=new n.constructor(r);return r&&"string"==typeof n[0]&&Kn.call(n,"index")&&(t.index=n.index,t.input=n.input),t}function M(n){return n=n.constructor,"function"==typeof n&&n instanceof n||(n=Object),new n}function U(n,r,t){var e=n.constructor;switch(r){case dn:return T(n);case vn:case gn:return new e(+n);case An:case xn:case On:case Tn:case kn:case En:case In:case $n:case _n:return r=n.buffer,new e(t?T(r):r,n.byteOffset,n.length);case bn:case wn:return new e(n);case mn:var u=new e(n.source,Nn.exec(n));u.lastIndex=n.lastIndex}return u}function N(n){return null!=n&&P(ar(n))}function W(n,r){return n="number"==typeof n||Bn.test(n)?+n:-1,r=null==r?cr:r,n>-1&&0==n%1&&r>n}function B(n,r,t){if(!Y(t))return!1;var e=typeof r;return("number"==e?N(t)&&W(r,t.length):"string"==e&&r in t)?(r=t[r],n===n?n===r:r!==r):!1}function D(n){var r=typeof n;return"string"==r&&Fn.test(n)||"number"==r?!0:vr(n)?!1:!Sn.test(n)||!1}function P(n){return"number"==typeof n&&n>-1&&0==n%1&&cr>=n}function R(n,r){var t={};return p(n,function(n,e,u){r(n,e,u)&&(t[e]=n)}),t}function z(n){for(var r=rn(n),t=r.length,e=t&&n.length,u=!!e&&P(e)&&(vr(n)||Q(n)),o=-1,c=[];++o<t;){var i=r[o];(u&&W(i,e)||Kn.call(n,i))&&c.push(i)}return c}function C(n){return Y(n)?n:Object(n)}function V(n){if(vr(n))return n;var r=[];return(null==n?"":n+"").replace(Mn,function(n,t,e,u){r.push(e?u.replace(Un,"$1"):t||n)}),r}function q(n){return n?n[0]:an}function L(n){var r=n?n.length:0;return r?n[r-1]:an}function G(n,r){var t=-1,e=n?n.length:0,u={};for(!e||r||vr(n[0])||(r=[]);++t<e;){var o=n[t];r?u[o]=r[t]:o&&(u[o[0]]=o[1])}return u}function H(n,r,t){var e=vr(n)?u:l;return r=$(r,t,3),e(n,r)}function J(n,r,t){var e=vr(n)?o:b;return r=$(r,t,3),e(n,r)}function K(n,r){if("function"!=typeof n)throw new TypeError(ln);return r=ur(r===an?n.length-1:+r||0,0),function(){for(var t=arguments,e=-1,u=ur(t.length-r,0),o=Array(u);++e<u;)o[e]=t[r+e];switch(r){case 0:return n.call(this,o);case 1:return n.call(this,t[0],o);case 2:return n.call(this,t[0],t[1],o)}for(u=Array(r+1),e=-1;++e<r;)u[e]=t[e];return u[r]=o,n.apply(this,u)}}function Q(r){return n(r)&&N(r)&&Kn.call(r,"callee")&&!nr.call(r,"callee")}function X(n){return Y(n)&&Xn.call(n)==yn}function Y(n){var r=typeof n;return!!n&&("object"==r||"function"==r)}function Z(r){return null==r?!1:X(r)?Yn.test(Jn.call(r)):n(r)&&Wn.test(r)}function nn(r){return n(r)&&P(r.length)&&!!Dn[Xn.call(r)]}function rn(n){if(null==n)return[];Y(n)||(n=Object(n));for(var r=n.length,r=r&&P(r)&&(vr(n)||Q(n))&&r||0,t=n.constructor,e=-1,t="function"==typeof t&&t.prototype===n,u=Array(r),o=r>0;++e<r;)u[e]=e+"";for(var c in n)o&&W(c,r)||"constructor"==c&&(t||!Kn.call(n,c))||u.push(c);return u}function tn(n){n=C(n);for(var r=-1,t=hr(n),e=t.length,u=Array(e);++r<e;){var o=t[r];u[r]=[o,n[o]]}return u}function en(n){for(var r=hr(n),t=-1,e=r.length,u=Array(e);++t<e;)u[t]=n[r[t]];return u}function un(r,t,e){return e&&B(r,t,e)&&(t=an),n(r)?cn(r):f(r,t)}function on(n){return n}function cn(n){return j(a(n,!0))}function fn(n){return D(n)?w(n):d(n)}var an,ln="Expected a function",sn="[object Arguments]",pn="[object Array]",vn="[object Boolean]",gn="[object Date]",hn="[object Error]",yn="[object Function]",bn="[object Number]",jn="[object Object]",mn="[object RegExp]",wn="[object String]",dn="[object ArrayBuffer]",An="[object Float32Array]",xn="[object Float64Array]",On="[object Int8Array]",Tn="[object Int16Array]",kn="[object Int32Array]",En="[object Uint8Array]",In="[object Uint8ClampedArray]",$n="[object Uint16Array]",_n="[object Uint32Array]",Sn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,Fn=/^\w*$/,Mn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,Un=/\\(\\)?/g,Nn=/\w*$/,Wn=/^\[object .+?Constructor\]$/,Bn=/^\d+$/,Dn={};Dn[An]=Dn[xn]=Dn[On]=Dn[Tn]=Dn[kn]=Dn[En]=Dn[In]=Dn[$n]=Dn[_n]=!0,Dn[sn]=Dn[pn]=Dn[dn]=Dn[vn]=Dn[gn]=Dn[hn]=Dn[yn]=Dn["[object Map]"]=Dn[bn]=Dn[jn]=Dn[mn]=Dn["[object Set]"]=Dn[wn]=Dn["[object WeakMap]"]=!1;var Pn={};Pn[sn]=Pn[pn]=Pn[dn]=Pn[vn]=Pn[gn]=Pn[An]=Pn[xn]=Pn[On]=Pn[Tn]=Pn[kn]=Pn[bn]=Pn[jn]=Pn[mn]=Pn[wn]=Pn[En]=Pn[In]=Pn[$n]=Pn[_n]=!0,Pn[hn]=Pn[yn]=Pn["[object Map]"]=Pn["[object Set]"]=Pn["[object WeakMap]"]=!1;var Rn={"function":!0,object:!0},zn=Rn[typeof exports]&&exports&&!exports.nodeType&&exports,Cn=Rn[typeof module]&&module&&!module.nodeType&&module,Vn=Rn[typeof self]&&self&&self.Object&&self,qn=Rn[typeof window]&&window&&window.Object&&window,Ln=Cn&&Cn.exports===zn&&zn,Gn=zn&&Cn&&"object"==typeof global&&global&&global.Object&&global||qn!==(this&&this.window)&&qn||Vn||this,Hn=Object.prototype,Jn=Function.prototype.toString,Kn=Hn.hasOwnProperty,Qn=0,Xn=Hn.toString,Yn=RegExp("^"+Jn.call(Kn).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Zn=Gn.ArrayBuffer,nr=Hn.propertyIsEnumerable,rr=Gn.Uint8Array,tr=S(Array,"isArray"),er=S(Object,"keys"),ur=Math.max,or=S(Date,"now"),cr=9007199254740991,ir=function(n,r){return function(t,e){var u=t?ar(t):0;if(!P(u))return n(t,e);for(var o=r?u:-1,c=C(t);(r?o--:++o<u)&&!1!==e(c[o],o,c););return t}}(v),fr=function(n){return function(r,t,e){var u=C(r);e=e(r);for(var o=e.length,c=n?o:-1;n?c--:++c<o;){var i=e[c];if(!1===t(u[i],i,u))break}return r}}(),ar=w("length"),lr=function(n,r){return function(t,e,u){return"function"==typeof e&&u===an&&vr(t)?n(t,e):r(t,O(e,u,3))}}(e,ir),sr=function(n,r){return function(t,e,u,o){var c=3>arguments.length;return"function"==typeof e&&o===an&&vr(t)?n(t,e,u,c):A(t,$(e,o,4),u,c,r)}}(function(n,r,t,e){var u=-1,o=n.length;for(e&&o&&(t=n[++u]);++u<o;)t=r(t,n[u],u,n);return t},ir),pr=or||function(){return(new Date).getTime()},vr=tr||function(r){return n(r)&&P(r.length)&&Xn.call(r)==pn},gr=function(n){return K(function(r,t){var e=-1,u=null==r?0:t.length,o=u>2?t[u-2]:an,c=u>2?t[2]:an,i=u>1?t[u-1]:an;for("function"==typeof o?(o=O(o,i,5),u-=2):(o="function"==typeof i?i:an,u-=o?1:0),c&&B(t[0],t[1],c)&&(o=3>u?an:o,u=1);++e<u;)(c=t[e])&&n(r,c,o);return r})}(function(n,r,t){if(t)for(var e=-1,u=hr(r),o=u.length;++e<o;){var c=u[e],f=n[c],a=t(f,r[c],c,n,r);(a===a?a===f:f!==f)&&(f!==an||c in n)||(n[c]=a)}else n=i(n,r);return n}),hr=er?function(n){var r=null==n?an:n.constructor;return"function"==typeof r&&r.prototype===n||"function"!=typeof n&&N(n)?z(n):Y(n)?er(n):[]}:z,yr=function(n){return function(r,t,e){var u={};return t=$(t,e,3),v(r,function(r,e,o){o=t(r,e,o),e=n?o:e,r=n?r:o,u[e]=r}),u}}(),br=K(function(n,r){var t;if(null==n)t={};else if("function"==typeof r[0])t=R(n,O(r[0],r[1],3));else{t=n;var e=s(r);t=C(t);for(var u=-1,o=e.length,c={};++u<o;){var i=e[u];i in t&&(c[i]=t[i])}t=c}return t});r.assign=gr,r.callback=un,r.debounce=function(n,r,t){function e(r,t){t&&clearTimeout(t),f=p=v=an,r&&(g=pr(),a=n.apply(s,i),p||f||(i=s=an))}function u(){var n=r-(pr()-l);0>=n||n>r?e(v,f):p=setTimeout(u,n)}function o(){e(y,p)}function c(){if(i=arguments,l=pr(),s=this,v=y&&(p||!b),!1===h)var t=b&&!p;else{f||b||(g=l);var e=h-(l-g),c=0>=e||e>h;c?(f&&(f=clearTimeout(f)),g=l,a=n.apply(s,i)):f||(f=setTimeout(o,e))}return c&&p?p=clearTimeout(p):p||r===h||(p=setTimeout(u,r)),t&&(c=!0,a=n.apply(s,i)),!c||p||f||(i=s=an),a}var i,f,a,l,s,p,v,g=0,h=!1,y=!0;if("function"!=typeof n)throw new TypeError(ln);if(r=0>r?0:+r||0,!0===t)var b=!0,y=!1;else Y(t)&&(b=!!t.leading,h="maxWait"in t&&ur(+t.maxWait||0,r),y="trailing"in t?!!t.trailing:y);return c.cancel=function(){p&&clearTimeout(p),f&&clearTimeout(f),g=0,f=p=v=an},c},r.filter=H,r.forEach=lr,r.keys=hr,r.keysIn=rn,r.map=J,r.mapValues=yr,r.matches=cn,r.pairs=tn,r.pick=br,r.pluck=function(n,r){return J(n,fn(r))},r.property=fn,r.restParam=K,r.toArray=function(n){var r=n?ar(n):0;return P(r)?r?t(n):[]:en(n)},r.values=en,r.zipObject=G,r.collect=J,r.each=lr,r.extend=gr,r.iteratee=un,r.object=G,r.select=H,r.first=q,r.get=function(n,r,t){return n=null==n?an:g(n,V(r),r+""),n===an?t:n},r.has=function(n,r){if(null==n)return!1;var t=Kn.call(n,r);if(!t&&!D(r)){if(r=V(r),n=1==r.length?n:g(n,x(r)),null==n)return!1;r=L(r),t=Kn.call(n,r)}return t||P(n.length)&&W(r,n.length)&&(vr(n)||Q(n))},r.identity=on,r.isArguments=Q,r.isArray=vr,r.isFunction=X,r.isNative=Z,r.isNumber=function(r){return"number"==typeof r||n(r)&&Xn.call(r)==bn},r.isObject=Y,r.isString=function(r){return"string"==typeof r||n(r)&&Xn.call(r)==wn},r.isTypedArray=nn,r.last=L,r.now=pr,r.reduce=sr,r.size=function(n){var r=n?ar(n):0;return P(r)?r:hr(n).length},r.uniqueId=function(n){var r=++Qn;return(null==n?"":n+"")+r},r.foldl=sr,r.head=q,r.inject=sr,r.VERSION="3.10.0",zn&&Cn&&Ln&&((Cn.exports=r)._=r)}).call(this);

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}]},{},[1]);
