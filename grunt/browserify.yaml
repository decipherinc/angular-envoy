options:
  banner: |
    /*! <%= pkg.name %> - v<%= pkg.version %>
     * <%= pkg.homepage %>
     * Copyright (c) <%= grunt.template.today('yyyy') %> Focusvision Worldwide; Licensed <%= pkg.license %>
     */

  browserifyOptions:
    debug: true

debug:
  files:
    envoy.debug.js: index.js
  options:
    transform:
      -
        - exposify
        -
          expose:
            angular: angular
            lodash: _

main:
  files:
    envoy.js: index.js
  options:
    transform:
      -
        - exposify
        -
          expose:
            angular: angular
            lodash: _
      -
        - ./grunt/lib/stub-transform.js
        -
          global: true
          files: '**/node_modules/debug/browser.js'

    plugin:
      -
        - minifyify
        -
          map: envoy.js.map
          output: envoy.js.map
